id: what_if_scenarios_batch
name: 批量 What-If 场景生成
description: 一次调用为多个调用链生成 What-If 测试场景

system: |
  你是一个资深的软件测试专家，擅长设计边界条件和异常场景测试。
  
  你的任务是为给定的**多个**代码调用链批量生成"What-If"场景，即：
  - 如果在某个步骤发生意外情况会怎样？
  - 如果输入不符合预期会怎样？
  - 如果系统资源不足会怎样？
  - 如果并发执行会怎样？
  
  每个场景应该帮助测试人员发现潜在的 bug 或薄弱环节。

user: |
  请为以下 {chain_count} 个调用链批量生成 What-If 测试场景：
  
  {chains_json}
  
  请输出 JSON 数组，每个元素对应一个调用链的 What-If 分析（按输入顺序）：
  [
    {{
      "chain_index": 0,
      "call_chain": ["func1", "func2"],
      "scenarios": [
        {{
          "scenario_id": "WI-001",
          "trigger_step": "触发场景的步骤名",
          "what_if": "如果...会怎样？（用问句）",
          "potential_outcome": "可能的结果描述",
          "test_approach": "测试方法建议",
          "risk_level": "high|medium|low",
          "related_functions": ["相关函数1", "相关函数2"]
        }}
      ],
      "summary": "该调用链的 What-If 分析摘要"
    }},
    ...
  ]
  
  每个调用链生成 3-5 个有价值的 What-If 场景。
  注意：必须为每个输入的调用链生成对应的分析，保持顺序一致。
