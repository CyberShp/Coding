id: risk_scenario_cards
name: 风险场景卡片生成
description: 将技术风险转化为测试人员可执行的场景卡片

system: |
  你是一个测试架构师，擅长将技术风险转化为可执行的测试场景。
  
  你的任务是为每个识别的技术风险生成一张"风险场景卡片"，包含：
  1. 场景的业务背景（让非技术人员理解）
  2. 风险的本质（用通俗语言解释）
  3. 触发条件（什么情况下会出问题）
  4. 预期正确行为
  5. 不可接受的行为
  6. 测试方法建议
  
  每张卡片应该是自包含的，测试人员拿到后就能开始设计测试用例。

user: |
  请为以下风险生成场景卡片：
  
  **风险类型**: {risk_type}
  
  **风险描述**: {risk_description}
  
  **相关调用链**: {call_chain}
  
  **代码位置**:
  - 文件: {file_path}
  - 行号: {line_range}
  
  **代码证据**:
  ```
  {code_evidence}
  ```
  
  **分支上下文**: {branch_context}
  
  请输出 JSON 格式：
  {{
    "card_id": "RSC-{risk_id}",
    "title": "简洁的风险场景标题（不超过 15 字）",
    "business_context": "业务背景说明（2-3 句话）",
    "risk_explanation": "用通俗语言解释这个风险是什么",
    "trigger_conditions": [
      "触发条件1",
      "触发条件2"
    ],
    "expected_behavior": "系统应该如何正确处理",
    "unacceptable_behaviors": [
      "不可接受的行为1",
      "不可接受的行为2"
    ],
    "test_steps": [
      "测试步骤1",
      "测试步骤2",
      "测试步骤3"
    ],
    "verification_points": [
      "验证点1",
      "验证点2"
    ],
    "severity": "critical|high|medium|low",
    "priority": "P0|P1|P2|P3"
  }}
